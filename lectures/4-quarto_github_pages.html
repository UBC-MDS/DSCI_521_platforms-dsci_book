<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction to Quarto and Github Pages – DSCI 521: Computing Platforms for Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">DSCI 521: Computing Platforms for Data Science</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lectures/4-quarto_github_pages.html">Lecture 4: Introduction to Quarto and Github Pages</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
 <span class="menu-text"><div style="text-align: center;">
  <img src="MDSlogo.png" alt="MDS Logo" style="width: 100%; height: auto;">
</div>
</span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/0-jupyterlab-orientation-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 0: JupyterLab Orientation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/1-MDStools-bash-filesystem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 1: Introduction to MDS software and Bash</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/2-git-github-ssh-basic-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 2: Introduction to version control with Git and GitHub</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/3-git-history-merge-conflicts-stash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 3: Getting grovy with Git and GitHub</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/4-quarto_github_pages.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lecture 4: Introduction to Quarto and Github Pages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/5-rstudio-projects-notebooks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 5: Dynamic documents: from markdown to Rmarkdown documents</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/6-rmarkdown-quarto-slides-ghpages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 6: Quarto, RMarkdown, and Jupyter Slides</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/7-virtual-environments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 7: Virtual environments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/8-regex-filenames-project-organization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 8: Organization of Data Science projects and some useful tools</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="3">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link active" data-scroll-target="#learning-outcomes">Learning outcomes</a></li>
  <li><a href="#what-is-quarto" id="toc-what-is-quarto" class="nav-link" data-scroll-target="#what-is-quarto">What is Quarto</a></li>
  <li><a href="#installing-quarto" id="toc-installing-quarto" class="nav-link" data-scroll-target="#installing-quarto">Installing Quarto</a>
  <ul class="collapse">
  <li><a href="#checking-your-installation" id="toc-checking-your-installation" class="nav-link" data-scroll-target="#checking-your-installation">Checking your installation</a></li>
  </ul></li>
  <li><a href="#your-first-quarto-website" id="toc-your-first-quarto-website" class="nav-link" data-scroll-target="#your-first-quarto-website">Your first Quarto website</a>
  <ul class="collapse">
  <li><a href="#tweaking-your-website" id="toc-tweaking-your-website" class="nav-link" data-scroll-target="#tweaking-your-website">Tweaking your website</a></li>
  <li><a href="#renering-your-website" id="toc-renering-your-website" class="nav-link" data-scroll-target="#renering-your-website">Renering your website</a></li>
  </ul></li>
  <li><a href="#github-pages" id="toc-github-pages" class="nav-link" data-scroll-target="#github-pages">GitHub Pages</a>
  <ul class="collapse">
  <li><a href="#github-pages-and-repositories" id="toc-github-pages-and-repositories" class="nav-link" data-scroll-target="#github-pages-and-repositories">Github Pages and repositories</a></li>
  <li><a href="#github-pages-quarto" id="toc-github-pages-quarto" class="nav-link" data-scroll-target="#github-pages-quarto">Github Pages &lt;&gt; Quarto</a></li>
  </ul></li>
  <li><a href="#quarto-for-rendering-your-mds-assignments" id="toc-quarto-for-rendering-your-mds-assignments" class="nav-link" data-scroll-target="#quarto-for-rendering-your-mds-assignments">Quarto for rendering your MDS assignments</a></li>
  <li><a href="#improving-your-quarto-experience" id="toc-improving-your-quarto-experience" class="nav-link" data-scroll-target="#improving-your-quarto-experience">Improving your quarto experience</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Quarto and Github Pages</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="learning-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="learning-outcomes">Learning outcomes</h2>
<ol type="1">
<li>Use the <code>quarto</code> terminal command to create different quarto projects</li>
<li>Create and edit a Quarto website</li>
<li>Discover how GitHub can be used to serve static websites</li>
<li>Modify a GitHub repository to publish a website</li>
</ol>
</section>
<section id="what-is-quarto" class="level2">
<h2 class="anchored" data-anchor-id="what-is-quarto">What is Quarto</h2>
<p>Quarto is a tool that can be used to create scientific or technical content. It comes with a collection of tools and templates to create many differnt types of data products, e.g., websites, articles, blogs, presentations, books, etc. Quarto works out of the box with the main data science languages: Python, R, Julia, and Observable (Javascript).</p>
<p>The official Quarto website has installation instructions and various guides on getting started with creating the various data products: https://quarto.org/</p>
</section>
<section id="installing-quarto" class="level2">
<h2 class="anchored" data-anchor-id="installing-quarto">Installing Quarto</h2>
<p>Quarto should already be installed on your machine as a part of the MDS software installation stack: https://ubc-mds.github.io/resources_pages/installation_instructions/</p>
<section id="checking-your-installation" class="level3">
<h3 class="anchored" data-anchor-id="checking-your-installation">Checking your installation</h3>
<p>There are a few ways you can always check if a terminal program exists and can be found on your computer.</p>
<ul>
<li>The <code>which</code> command in the shell will give you the path to where the program is found. If you have multiple versions of an application installed on your machine, <code>which</code> will tell you which one is <em>acually</em> going to be used. If the path returned is not what you expect, then it typically means you need to adjust your <code>$PATH</code> variable. If the program cannot be found, you will get an <code>which: no quarto in ....</code> message. The <code>....</code> will list all the locations (paths) that your <code>$PATH</code> variable defines. This is the order where your computer is looking for programs.</li>
</ul>
<pre class="shell"><code>$ which quarto
/usr/bin/quarto</code></pre>
<ul>
<li>Many terminal programs provide a <code>--version</code> flag that will return the version of the program installed. If the binary (i.e., program) exists, then it will return the version number back. If the program does not exist you will see a <code>command not found</code> message.</li>
</ul>
<pre class="shell"><code>$ quarto --version
1.4.358</code></pre>
<ul>
<li>You can also access the help pages for <code>quarto</code> with the <code>--help</code> flag. This is similar to many terminal programs where you can either use the <code>--help</code> flag or call <code>man</code> (for manual) of a program. Not every program implments a <code>--help</code> and <code>man</code>. This will also differ from system to system. For quarto we can use the <code>--help</code> flag to also confirm that things are working</li>
</ul>
<pre class="shell"><code>$ quarto --help

  Usage:   quarto
  Version: 1.4.358

  Description:

    Quarto CLI

  Options:

    -h, --help     - Show this help.
    -V, --version  - Show the version number for this program.

  Commands:

    render          [input] [args...]     - Render files or projects to various document types.
    preview         [file] [args...]      - Render and preview a document or website project.
    serve           [input]               - Serve a Shiny interactive document.
    create          [type] [commands...]  - Create a Quarto project or extension
    create-project  [dir]                 - Create a project for rendering multiple documents
    convert         &lt;input&gt;               - Convert documents to alternate representations.
    pandoc          [args...]             - Run the version of Pandoc embedded within Quarto.
    typst           [args...]             - Run the version of Typst embedded within Quarto.
    run             [script] [args...]    - Run a TypeScript, R, Python, or Lua script.
    add             &lt;extension&gt;           - Add an extension to this folder or project
    install         [target...]           - Installs an extension or global dependency.
    publish         [provider] [path]     - Publish a document or project. Available providers include:
    check           [target]              - Verify correct functioning of Quarto installation.
    help            [command]             - Show this help or the help of a sub-command.</code></pre>
</section>
</section>
<section id="your-first-quarto-website" class="level2">
<h2 class="anchored" data-anchor-id="your-first-quarto-website">Your first Quarto website</h2>
<p>We can use <code>quarto create</code> to aid in creating the template files for a website. These template files and code is also known as “boilerplate”.</p>
<pre class="shell"><code>$ quarto create --help

  Usage:   quarto create [type] [commands...]
  Version: 1.4.358

  Description:

    Create a Quarto project or extension

  Options:

    -h, --help              - Show this help.
    --open        [editor]  - Open new artifact in this editor (vscode,rstudio)
    --no-open               - Do not open in an editor
    --no-prompt             - Do not prompt to confirm actions
    --log         &lt;level&gt;   - Path to log file
    --log-level   &lt;level&gt;   - Log level (info, warning, error, critical)
    --log-format  &lt;format&gt;  - Log format (plain, json-stream)
    --quiet                 - Suppress console output.
    --profile               - Active project profile(s)

  Commands:

    help  [command]  - Show this help or the help of a sub-command.</code></pre>
<p>We are going to create a quarto project, but we may still need to know the type of project we will create. When we run <code>quarto create project</code> we get a terminal option to pick what kind of type.</p>
<pre class="shell"><code>$ quarto create project
 ? Type
 ❯ default
   website
   blog
   manuscript
   book
   confluence</code></pre>
<p>We can use our arrow keys to select the project type we want, and hit enter to create the skeleton for that project. We’ll use <code>website</code> in this lecture.</p>
<p>It will then ask you for a directory:</p>
<pre class="shell"><code>$ quarto create project
 ? Type › website
 ? Directory ›
</code></pre>
<p>Here we can provide the <strong>relative</strong> path from your current working directory (i.e., <code>pwd</code>) where <code>quarto</code> will dump all its files.</p>
<p>You will see how it created a few files, and prompt you to open the directory in a text editor:</p>
<pre class="shell"><code>  - Created _quarto.yml
  - Created index.qmd
  - Created about.qmd
  - Created styles.css
 ? Open With
 ❯ vscode
   (don't open)</code></pre>
<p>The most important file is the <code>_quarto.yml</code> file, this is how quarto knows you are using a quarto project. Some quarto commands and options may need to run in a quarto project. The contents of the <code>_qquarto.yml</code> (in this example) file tells quarto that we are going to be creating a website.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> website</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="tweaking-your-website" class="level3">
<h3 class="anchored" data-anchor-id="tweaking-your-website">Tweaking your website</h3>
<p>The <code>_quarto.yml</code> file defines many (if not all) of the options you can use to tweak how your website (or project) renders or behaves. This file is a YAML another mfile. This is a common format many tools use to provide configuration settings. Just note the indentation, white space, and dashes <code>-</code> are all really imporatnat and implies different things. YAML is a “recursive acronum”, it stands for “YAML Ain’t Markup Language”.</p>
<p>You can go through the official quarto website documentation guide for more information: https://quarto.org/docs/websites/</p>
</section>
<section id="renering-your-website" class="level3">
<h3 class="anchored" data-anchor-id="renering-your-website">Renering your website</h3>
<p>At the end of the day, we need a series of <code>.html</code> files that our web browser can open and render. So far we don’t have any of that. Luckily <code>quarto</code> can take the source documents and create the <code>.html</code> files needed for a website.</p>
<p>There are 2 commands that will be helpful for us here:</p>
<ul>
<li><code>quarto preview</code>: will “preview” the website, any changes to the files will automatically regnerate and refresh the website files</li>
<li><code>quarto render</code>: will generate all the html files</li>
</ul>
<p>This of <code>preview</code> as a way to quickly see how the website changes as you are working, and <code>render</code> as creating the “final” website from scratch. When using <code>quarto preview</code> your current terminal will be used to look for changes and re-render your site.</p>
<pre class="shell"><code>$ quarto preview
Preparing to preview

Watching files for changes
Browse at http://localhost:4463/
Opening in existing browser session.
GET: /</code></pre>
<p>Here you can see we can navigate to <code>http://localhost:4463/</code> in our browser and see our website locally. The URL essentially says to look at port <code>4463</code> on our local machine (i.e., <code>localhost</code>). Your port number may differ and change, so always pay attention to what port your current site is running on. If something is not updating after you make a change, try exiting out of <code>preview</code> with <code>CTRL + c</code> and re-<code>preview</code>-ing.</p>
<p>When we use <code>quarto render</code> it will create the website <code>html</code> files and give our terminal back. We will have to manually navigate to the <code>index.html</code> file to see the website changes as we go.</p>
<pre class="shell"><code>$ quarto render
[1/2] about.qmd
[2/2] index.qmd

Output created: _site/index.html</code></pre>
<p>Always <code>render</code> your site before your final deployment, not all changes to your quarto files will trigger an automatic regeneration + rendering.</p>
</section>
</section>
<div class="activity">
<section id="lecture-4-activity-1" class="level2 activity-header">
<h2 class="anchored" data-anchor-id="lecture-4-activity-1">Lecture 4 Activity 1</h2>
</section>
<div class="activity-container">
<p>Which command would you use to look at a Quarto file when changes are made?</p>
<p>A. <code>quarto render --preview</code></p>
<p>B. <code>quarto render --watch</code></p>
<p>C. <code>quarto preview</code></p>
<p>D. <code>quarto serve</code></p>
</div>
</div>
<section id="github-pages" class="level2">
<h2 class="anchored" data-anchor-id="github-pages">GitHub Pages</h2>
<p>GitHub (public and enterprise) have mechanims that can turn static website content and render them into an actual website. If you’re reading these words from a web URL and not directly in the raw source (i.e., the jupyter notebook) then you are experiencing github pages.</p>
<p>Github uses <a href="https://jekyllrb.com/">Jekyll</a> by default to render its github pages. However you can manually render your own <code>html</code> files and disable Github’s <code>jekyll</code> rendering and tell Github pages to render your website content exactly as you have it.</p>
<section id="github-pages-and-repositories" class="level3">
<h3 class="anchored" data-anchor-id="github-pages-and-repositories">Github Pages and repositories</h3>
<p>Any one of your github repositories can be set up to use github pages. If a repository is github pages enabled to render a website, it is typically published to: <code>USERNAME.github.io/REPO_NAME</code>. where <code>USERNAME</code> is your github username, and <code>REPO_NAME</code> is the actual name of the repository on github.</p>
<section id="special-github-repository-names" class="level4">
<h4 class="anchored" data-anchor-id="special-github-repository-names">Special github repository names</h4>
<p>There are 2 other special repository names that github provides that you can use to create a landing page for yourself (i.e., creating your professional presence and profile):</p>
<ul>
<li><code>USERNAME.github.io</code></li>
<li><code>USERNAME</code></li>
</ul>
<section id="username.github.io" class="level5">
<h5 class="anchored" data-anchor-id="username.github.io"><code>USERNAME.github.io</code></h5>
<p>Creating a repository with this name (replacing the text <code>USERNAME</code> with your github username) and having static website files on it will allow you to direct people to your own github website: <code>https://USERNAME.github.io/</code>.</p>
<p>If you know your way around HTML + CSS and related tools, you can publish any static content on your own and render it on the site. In this lesson we’re leveraging <code>quarto</code> to help us create the <code>html</code> files.</p>
<p>Here’s an example of a repository that contains only a <code>index.html</code> file that redirects to a different URL:</p>
<p>https://github.com/chendaniely/chendaniely.github.io</p>
<p>When someone goes to <code>chendaniely.github.io</code> they will be automatically redirected to a different web address.</p>
</section>
<section id="username" class="level5">
<h5 class="anchored" data-anchor-id="username"><code>USERNAME</code></h5>
<p>If you create a repository that is <em>just</em> your github username, with only a <code>README.md</code> file in it. Github will render the <code>README.md</code> file into your github landing page.</p>
<p>Here is an example of a former MDS student’s Github landing page:</p>
<p>https://github.com/mrnabiz/</p>
<p>and their accompanying repository:</p>
<p>https://github.com/mrnabiz/mrnabiz</p>
</section>
</section>
</section>
<section id="github-pages-quarto" class="level3">
<h3 class="anchored" data-anchor-id="github-pages-quarto">Github Pages &lt;&gt; Quarto</h3>
<p>Now that we’ve seen how to use <code>quarto</code> to create a website locally, we can leverage it in publishing the website.</p>
<p>We’ve talked in the past how we should ignore generated files in a git repository, but this is an exception where we actually need to keep the rendered <code>html</code> files from <code>quarto</code>. Otherwise github pages will not have anything to render.</p>
<p>We can use any of the git methods we’ve learned to get our quarto files into a github repository.</p>
<ul>
<li><code>git init</code> + create the remote repo + connect the remote URLs</li>
<li>create the remote repo + <code>git clone</code></li>
</ul>
<p>Once all our files are on github, we can tell github to render the website files.</p>
<ol type="1">
<li>Go to the <strong>repository</strong> settings (not your account settions)</li>
<li>Goto the “Pages” options</li>
</ol>
<p>We have a few options to tell github how to render a webssite. Currently, our files are in the <code>main</code> branch, but the only options for deploying from <code>main</code> is under <code>/</code> root or <code>/docs</code>. This is a problem because our quarto website defaults to putting all the website files into <code>_site/</code></p>
<p>We can change the directory <code>quarto</code> renders the files into by editing our <code>_quarto.yml</code> file. Let’s have it render the website files into a folder github understands.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> website</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">output-dir</span><span class="kw">:</span><span class="at"> docs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you re-render your site now, the output should reflect your new output directory:</p>
<pre class="shell"><code>$ quarto render
[1/2] about.qmd
[2/2] index.qmd

Output created: docs/index.html</code></pre>
<p>Dont forget to save your <code>yaaml</code> file, re-<code>render</code>, remove the old <code>_site</code> folder, <code>add</code>, <code>commit</code>, and <code>push</code> your changes.</p>
<p>On your main github repo, you’ll notice a burnt orange dot next to the latest commit hash. This is github’s continuous integration / deployment system creating and publishing your site. When the icon is green, you can navibate to your site and behold publishing somethign on the internet!</p>
</section>
</section>
<section id="quarto-for-rendering-your-mds-assignments" class="level2">
<h2 class="anchored" data-anchor-id="quarto-for-rendering-your-mds-assignments">Quarto for rendering your MDS assignments</h2>
<p>You can use <code>quarto render</code> to render your MDS documents into different output formats, e.g., <code>pdf</code> or <code>html</code>. For more information you can explore how <code>quarto render</code> works by calling the help page for <code>render</code>. This can be particularly useful when trying to export out <code>pdf</code> documents from a jupyter notebook if other methods are not working.</p>
<pre class="shell"><code>$ quarto help render

  Usage:   quarto render [input] [args...]
  Version: 1.4.358

  Description:

    Render files or projects to various document types.

  Options:

    -h, --help                          - Show this help.
    -t, --to                            - Specify output format(s).
    -o, --output                        - Write output to FILE (use '--output -' for stdout).
    --output-dir                        - Write project output to DIR (path is project relative)
    -M, --metadata                      - Metadata value (KEY:VALUE).
    --site-url                          - Override site-url for website or book output
    --execute                           - Execute code (--no-execute to skip execution).
    -P, --execute-param                 - Execution parameter (KEY:VALUE).
    --execute-params                    - YAML file with execution parameters.
    --execute-dir                       - Working directory for code execution.
    --execute-daemon                    - Keep Jupyter kernel alive (defaults to 300 seconds).
    --execute-daemon-restart            - Restart keepalive Jupyter kernel before render.
    --execute-debug                     - Show debug output for Jupyter kernel.
    --use-freezer                       - Force use of frozen computations for an incremental file render.
    --cache                             - Cache execution output (--no-cache to prevent cache).
    --cache-refresh                     - Force refresh of execution cache.
    --no-clean                          - Do not clean project output-dir prior to render
    --debug                             - Leave intermediate files in place after render.
    pandoc-args...                      - Additional pandoc command line arguments.
    --log                     &lt;level&gt;   - Path to log file
    --log-level               &lt;level&gt;   - Log level (info, warning, error, critical)
    --log-format              &lt;format&gt;  - Log format (plain, json-stream)
    --quiet                             - Suppress console output.
    --profile                           - Active project profile(s)

  Commands:

    help  [command]  - Show this help or the help of a sub-command.

  Examples:

    Render Markdown:    quarto render document.qmd
                        quarto render document.qmd --to html
                        quarto render document.qmd --to pdf --toc
    Render Notebook:    quarto render notebook.ipynb
                        quarto render notebook.ipynb --to docx
                        quarto render notebook.ipynb --to pdf --toc
    Render Project:     quarto render
                        quarto render projdir
    Render w/ Metadata: quarto render document.qmd -M echo:false
                        quarto render document.qmd -M code-fold:true
    Render to Stdout:   quarto render document.qmd --output -</code></pre>
<p>You can also use <code>quarto render --help</code> to get the same help output.</p>
<div class="exercise">
<section id="lecture-4-exercise-1" class="level3 exercise-header">
<h3 class="anchored" data-anchor-id="lecture-4-exercise-1">Lecture 4 Exercise 1</h3>
</section>
<div class="exercise-container">
<p><strong>Creating and Deploying a Quarto Website</strong></p>
<p><strong>Objective:</strong> By completing this exercise, students will gain hands-on experience in creating a Quarto website and deploying it using GitHub Pages.</p>
<p><strong>Instructions:</strong></p>
<ol type="1">
<li><strong>Create a New Quarto Website Project:</strong>
<ul>
<li>Open your command line interface (Terminal on Mac/Linux, Command Prompt/PowerShell on Windows).</li>
<li>Use the <code>quarto create project</code> command to create a new Quarto website project.</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> create project</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Select “website” as the project type and provide a directory name for your project.</li>
</ul></li>
<li><strong>Navigate to Your Project Directory:</strong>
<ul>
<li>Change into the newly created project directory.</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> your_project_directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><strong>Customize Your Quarto Website:</strong>
<ul>
<li>Open the <code>_quarto.yml</code> file in a text editor and customize the settings as needed.</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> website</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">output-dir</span><span class="kw">:</span><span class="at"> docs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Modify the content of the <code>index.qmd</code> and <code>about.qmd</code> files to personalize your website.</li>
</ul></li>
<li><strong>Render Your Quarto Website:</strong>
<ul>
<li>Use the <code>quarto render</code> command to generate the HTML files for your website.</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Verify that the output is created in the <code>docs</code> directory.</li>
</ul></li>
<li><strong>Initialize a Git Repository:</strong>
<ul>
<li>If you haven’t already, initialize a Git repository in your project directory.</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> init</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Add all files to the Git repository and commit them.</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Initial commit of Quarto website"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><strong>Push Your Project to GitHub:</strong>
<ul>
<li>Create a new repository on GitHub and follow the instructions to push your local repository to GitHub.</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote add origin https://github.com/YOUR_GITHUB_USERNAME/YOUR_REPOSITORY_NAME.git</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-M</span> main</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin main</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><strong>Enable GitHub Pages:</strong>
<ul>
<li>Go to the settings of your GitHub repository.</li>
<li>Under the “Pages” section, set the source to the <code>docs</code> folder on the <code>main</code> branch.</li>
<li>Save the settings and wait for GitHub to publish your website.</li>
</ul></li>
<li><strong>Verify Your Website:</strong>
<ul>
<li>Navigate to <code>https://YOUR_GITHUB_USERNAME.github.io/YOUR_REPOSITORY_NAME</code> to see your published Quarto website.</li>
</ul></li>
</ol>
<p><strong>Questions:</strong></p>
<ol type="1">
<li>What command do you use to create a new Quarto website project?</li>
<li>How do you customize the settings for your Quarto website?</li>
<li>What steps do you take to render your Quarto website and generate the HTML files?</li>
<li>How do you initialize a Git repository and push it to GitHub?</li>
<li>What settings do you need to change in GitHub to enable GitHub Pages for your website?</li>
</ol>
</div>
</div>
</section>
<section id="improving-your-quarto-experience" class="level2">
<h2 class="anchored" data-anchor-id="improving-your-quarto-experience">Improving your quarto experience</h2>
<p>Quarto works with a few IDEs and text editors.</p>
<ul>
<li>VSCode extension: https://marketplace.visualstudio.com/items?itemName=quarto.quarto</li>
<li>RStudio: Comes with RStudio (you can also manually install it as a terminal application)</li>
<li>Jupyter Lab: there is no official jupyter quarto extension, but quarto can work with jupyter notebooks in the command line tool</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/UBC-MDS\.github\.io\/DSCI_521_platforms-dsci_book\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>